@page "/home"
@inject NavigationManager NavigationManager

<style>
    body { /*achtergrond*/
        background: linear-gradient(to left, #C4A484 50%, transparent 50%),
            url('https://i.imgur.com/GZVw5gT.png') repeat-x;
        background-color: #E9E9E9;
        background-size: 15500px 300px;
        background-position: 0px 0px;
        display: flex;
        flex-direction: column;
    }

    .mainsquare { /*rechthoek*/
        width: 1200px;
        height: 800px;
        background-color: #099F91;
        border-radius: 10px;
        position: relative;
        top: 100px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .squareinmainsquare { /*rechthoek in main rechthoek*/
        width: 800px;
        height: 500px;
        background-color: #E9E9E9;
        border-radius: 10px;
        position: absolute;
        top: 200px;
        left: 350px;
    }

    .text-containersquaremiddle {
        display: flex;
        flex-direction: column;
        justify-content: center;
        color: black;
        font-family: monospace;
        font-size: 20px;
        margin-top: 10px;
        margin-left: 20px;
    }

    .remind-button { /*kleur van "Remind" button*/
        background-color: #F9834C;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 15px 0;
        width: 30%;
        font-size: 20px;
        cursor: pointer;
        margin-top: 175px;
        margin-left: 280px;
    }

    .smallersquare { /*grootte kleinere rechthoek in tweede rechthoek*/
        width: 300px;
        height: 800px;
        background-color: #00A89B;
        border-radius: 10px;
        position: absolute;
        top: 0px;
        left: 0px;
        z-index: -1;
    }

    .buurtboer-logo {
        width: 300px;
        height: 250px;
        top: 0px;
        left: 0%;
        position: absolute;
    }
    
    .text-containersquare { /*positie en grootte tekst*/
        display: flex;
        flex-direction: column;
        justify-content: center;
        color: white;
        font-family: monospace;
        font-size: 24px;
        margin-top: 75px;
        margin-left: 200px;
    }

    .homescreen-button { /*knop om naar home page te gaan*/
        position: absolute;
        top: 350px;
        left: 30px;
        padding: 20px 0;
        width: 80%;
        background-color: #099F91;
        border: 1px solid #099F91;
        color: white;
        font-size: 16px;
        text-align: center;
        border-radius: 10px;
    }

        .homescreen-button:hover {
            background-color: #F9834C;
        }

    .employee-button { /*knop om naar employees page te gaan*/
        position: absolute;
        top: 425px;
        left: 30px;
        padding: 20px 0;
        width: 80%;
        background-color: #099F91;
        border: 1px solid #099F91;
        color: white;
        font-size: 16px;
        text-align: center;
        border-radius: 10px;
    }

        .employee-button:hover {
            background-color: #F9834C;
        }

    .companies-button { /*knop om naar companies page te gaan*/
        position: absolute;
        top: 500px;
        left: 30px;
        padding: 20px 0;
        width: 80%;
        background-color: #099F91;
        border: 1px solid #099F91;
        color: white;
        font-size: 16px;
        text-align: center;
        border-radius: 10px;
    }

        .companies-button:hover {
            background-color: #F9834C;
        }

    .lunchdata-button { /*knop om naar lunchdata page te gaan*/
        position: absolute;
        top: 575px;
        left: 30px;
        padding: 20px 0;
        width: 80%;
        background-color: #099F91;
        border: 1px solid #099F91;
        color: white;
        font-size: 16px;
        text-align: center;
        border-radius: 10px;
    }

        .lunchdata-button:hover {
            background-color: #F9834C;
        }
</style>

<div class="mainsquare"> @* HTML elements*@
    <div class="smallersquare">
        <img src="https://i.imgur.com/MF5gfZC.png" class="buurtboer-logo" />
        <button class="homescreen-button" @onclick="HomeScreenRouting">Home</button>
        <button class="employee-button" @onclick="EmployeeRouting">Employees</button>
        <button class="companies-button" @onclick="CompanyRouting">Companies</button>
        <button class="lunchdata-button" @onclick="LunchDataRouting">Lunchdata</button>
    </div>
    <div class="squareinmainsquare">
        <div class=text-containersquaremiddle>
            <p>Employees who have already filled in their lunches:</p>
            <p>Some number</p>
            <p>Employees who still have to do it:</p>
            <p>Some number</p>
        </div>
        <button class="remind-button" @onclick="RemindButton">Remind</button>
    </div>
    <div class="text-containersquare">
        <p>@greeting()</p>
        <p>Gebruikersnaam</p>
    </div>
</div>

@code {
    public int currentHour;

    protected override void OnInitialized() // Functie om van een page naar een andere te gaan.
    {
        currentHour = DateTime.Now.Hour;
        if(!IsUserLoggedIn()) 
        {
            NavigationManager.NavigateTo("/login");
        }
        //andere if statements kunnen hier nog bij om ervoor te kunnen zorgen dat gebruikers naar andere pages kunnen.
    }

    private bool IsUserLoggedIn() // kijken of gebruiker ingelogd is.
    {
        // Hier checken of gebruiker ingelogd is.

        return true;// deze op false zetten zorgt ervoor dat gebruiker direct naar login scherm wordt gestuurd als hij niet ingelogd is.
    }


    private string greeting() // kijken hoe laat het is en daarop baseren welke message er komt.
    {
        if(currentHour < 12 && currentHour > 3) 
        {
            return "Good morning";
        } 
        else if(currentHour < 18 && currentHour > 11)
        {
            return "Good afternoon";
        } 
        else
        {
            return "Good evening";
        }
    }

    private void HomeScreenRouting()
    {
        NavigationManager.NavigateTo("/home");
    }

    private void EmployeeRouting()
    {
        NavigationManager.NavigateTo("/employees");
    }

    private void CompanyRouting()
    {
        NavigationManager.NavigateTo("/companies");
    }

    private void LunchDataRouting()
    {
        NavigationManager.NavigateTo("/lunchdata");
    }

    private void RemindButton()
    {
        
    }
}